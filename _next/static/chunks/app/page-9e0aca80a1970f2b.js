(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{16461:(e,t,a)=>{Promise.resolve().then(a.bind(a,29182))},29182:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(95155),s=a(76052),n=a(35695),i=a(12115),o=a(53999),l=a(97168),d=a(88482),c=a(89852),u=a(63655),g=i.forwardRef((e,t)=>(0,r.jsx)(u.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function m(e){let{className:t,...a}=e;return(0,r.jsx)(g,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}g.displayName="Label";var x=a(34293),p=a(16203),v=a(81115);function f(e){let{className:t,...a}=e,u=(0,n.useRouter)(),{login:g}=(0,s.A)(),[f,h]=(0,i.useState)(""),[b,w]=(0,i.useState)(""),[k,y]=(0,i.useState)(!1),[j,N]=(0,i.useState)(""),I=async e=>{e.preventDefault(),y(!0),N("");try{let e=(await (0,p.x9)(x.j2,f,b)).user,t=(0,v.KR)(x.OO,"accounts/".concat(e.uid)),a=await (0,v.Jt)(t);if(!a.exists())throw Error("User data not found");let r=a.val().division.toLowerCase();if(g(e.uid,r),"admin"===r)u.push("/admin/dashboard");else if("secretary"===r)u.push("/secretary/dashboard");else throw Error("Invalid division")}catch(e){console.error("Login Error:",e),N("Invalid email, password, or user division")}finally{y(!1)}};return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",style:{backgroundImage:"url('/images/airworthinessbg.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col gap-6",t),...a,children:(0,r.jsxs)(d.Zp,{className:"bg-black w-[403px] h-[450px]",children:[(0,r.jsx)(d.aR,{className:"pt-10",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,r.jsx)(d.ZB,{className:"text-2xl text-white",children:"Login"}),(0,r.jsx)(d.BT,{className:"text-white pt-2",children:"Enter your email and password below"})]})}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)("form",{onSubmit:I,className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(m,{className:"text-white text-md",htmlFor:"email",children:"Email"}),(0,r.jsx)(c.p,{className:"text-white",id:"email",type:"email",placeholder:"m@example.com",value:f,onChange:e=>h(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(m,{className:"text-white text-md",htmlFor:"password",children:"Password"}),(0,r.jsx)(c.p,{className:"text-white",id:"password",type:"password",value:b,onChange:e=>w(e.target.value),required:!0})]}),j&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:j}),(0,r.jsx)(l.$,{type:"submit",className:"w-full bg-white text-black",disabled:k,children:k?"Logging in...":"Login"})]})})]})})})}function h(){let{isAuthenticated:e,userDivision:t,loading:a}=(0,s.A)(),o=(0,n.useRouter)();return((0,i.useEffect)(()=>{!a&&e&&t&&o.push("/".concat(t,"/dashboard"))},[e,a,t,o]),a||e)?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsx)(f,{})}},34293:(e,t,a)=>{"use strict";a.d(t,{OO:()=>l,j2:()=>o});var r=a(23915),s=a(81115),n=a(16203);let i=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyA1hKkEKTW0kcVADfIql8tJ2jpDoYWwki8",authDomain:"trackingmanagement-6e813.firebaseapp.com",databaseURL:"https://trackingmanagement-6e813-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"trackingmanagement-6e813",storageBucket:"trackingmanagement-6e813.firebasestorage.app",messagingSenderId:"166871417428",appId:"1:166871417428:web:bc17897430b3eca701a3c1",measurementId:"G-E98P109RDX"}),o=(0,n.xI)(i),l=(0,s.C3)(i);console.log("API KEY CHECK:","AIzaSyRealKeyHere"),console.log("AUTH DOMAIN CHECK:","trackingmanagement-6e813.firebaseapp.com"),console.log("PROJECT ID CHECK:","trackingmanagement-6e813")},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(52596),s=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},76052:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,AuthProvider:()=>o});var r=a(95155),s=a(12115),n=a(35695);let i=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,s.useState)(!1),[l,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),g=(0,n.useRouter)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("authToken"),t=localStorage.getItem("userDivision");e&&t&&(o(!0),d(t)),u(!1)},[]),(0,r.jsx)(i.Provider,{value:{isAuthenticated:a,userDivision:l,login:(e,t)=>{localStorage.setItem("authToken",e),localStorage.setItem("userDivision",t),o(!0),d(t)},logout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userDivision"),o(!1),d(null),g.push("/")},loading:c},children:t})}function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},88482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var r=a(95155);a(12115);var s=a(53999);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("flex flex-col gap-1.5 px-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(95155);a(12115);var s=a(53999);function n(e){let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},97168:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var r=a(95155);a(12115);var s=a(99708),n=a(74466),i=a(53999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:n,asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:n,className:t})),...d})}}},e=>{var t=t=>e(e.s=t);e.O(0,[507,888,655,441,684,358],()=>t(16461)),_N_E=e.O()}]);