(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{35221:(e,t,s)=>{Promise.resolve().then(s.bind(s,69891))},40879:(e,t,s)=>{"use strict";s.d(t,{Y:()=>m});var l=s(95155);s(12115);var r=s(13052),a=s(50095),n=s(6874),c=s.n(n),d=s(66766),i=s(65204),o=s(71919);let x={navMain:[{title:"Home",items:[{title:"Dashboard",url:"/secretary/dashboard"},{title:"Division",url:"/secretary/division"},{title:"Hold Documents",url:"/secretary/holddocuments"}]},{title:"Documents",items:[{title:"Ongoing Documents",url:"/secretary/ongoingdocs"},{title:"Pending Documents",url:"/secretary/pendingdocs"},{title:"Sent Documents",url:"/secretary/sentdocs"}]}]};function m(e){let{...t}=e;return(0,l.jsxs)(o.Bx,{...t,children:[(0,l.jsxs)(o.Gh,{className:"flex items-center pt-2 font-bold justify-center text-2xl gap-2",children:[(0,l.jsx)(d.default,{src:"/images/awdlogo.png",alt:"Airworthiness Logo",width:80,height:80,className:"w-20 h-20"}),"AIRWORTHINESS"]}),(0,l.jsx)(o.Yv,{className:"gap-0",children:x.navMain.map(e=>(0,l.jsx)(i.Nt,{title:e.title,defaultOpen:!0,className:"group/collapsible",children:(0,l.jsxs)(o.Cn,{children:[(0,l.jsx)(o.jj,{asChild:!0,className:"group/label text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:(0,l.jsxs)(i.R6,{children:[e.title," ",(0,l.jsx)(r.A,{className:"ml-auto transition-transform group-data-[state=open]/collapsible:rotate-90"})]})}),(0,l.jsx)(i.Ke,{children:(0,l.jsx)(o.rQ,{children:(0,l.jsx)(o.wZ,{children:e.items.map(e=>(0,l.jsx)(o.FX,{children:(0,l.jsx)(o.Uj,{asChild:!0,children:(0,l.jsx)(c(),{href:e.url,children:e.title})})},e.title))})})})]})},e.title))}),(0,l.jsx)(o.CG,{className:"p-4",children:(0,l.jsx)(a.r,{})}),(0,l.jsx)(o.jM,{})]})}},69891:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var l=s(95155),r=s(12115),a=s(35695),n=s(81115),c=s(34293),d=s(40879),i=s(71919),o=s(76037),x=s(84995),m=s(36639);function h(){let e=(0,a.useParams)(),t=(0,a.useRouter)(),[s,h]=(0,r.useState)(null),[u,f]=(0,r.useState)(null),[b,j]=(0,r.useState)([]),[N,g]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let s=localStorage.getItem("selectedAwdRefNum"),l=(null==e?void 0:e.awdrefnu)||s;if(!l){console.error("awdReferenceNumber is undefined!"),t.push("/admin/Documents");return}h(l)},[e,t]),(0,r.useEffect)(()=>{if(!s)return;console.log("Fetching data for:",s);let e=(0,n.P)((0,n.KR)(c.OO,"documents"),(0,n.kT)("awdReferenceNumber"),(0,n.iz)(s)),t=(0,n.Zy)(e,e=>{if(e.exists()){let t=e.val(),s=Object.keys(t)[0];f(t[s])}else console.warn("No data found for",s),f(null);g(!1)},e=>{console.error("Error fetching data:",e),g(!1)}),l=(0,n.P)((0,n.KR)(c.OO,"tracking"),(0,n.kT)("awdReferenceNumber"),(0,n.iz)(s)),r=(0,n.Zy)(l,e=>{e.exists()?j(Object.values(e.val())):(console.warn("No tracking data found for",s),j([]))},e=>{console.error("Error fetching tracking data:",e)});return()=>{t(),r()}},[s]),N)?(0,l.jsx)("p",{className:"text-center mt-10",children:"Loading data..."}):u?(0,l.jsx)(m.A,{allowedDivisions:["secretary"],children:(0,l.jsx)(i.GB,{children:(0,l.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[(0,l.jsx)(d.Y,{}),(0,l.jsxs)(i.sF,{className:"flex flex-1 flex-col w-full",children:[(0,l.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,l.jsx)(i.x2,{className:"-ml-1"}),(0,l.jsx)(o.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,l.jsx)(x.Qp,{children:(0,l.jsxs)(x.AB,{children:[(0,l.jsx)(x.J5,{className:"hidden md:block",children:(0,l.jsx)(x.tJ,{children:"Documents"})}),(0,l.jsx)(x.tH,{className:"hidden md:block"}),(0,l.jsx)(x.J5,{children:(0,l.jsx)(x.tJ,{children:"Subject Information"})})]})})]}),(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto pl-12 pt-8 w-full",children:[(0,l.jsx)("h1",{className:"text-6xl font-bold mb-16",children:u.subject||"No Title"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-6 pl-12",children:[{label:"AWD Reference Number",value:u.awdReferenceNumber},{label:"Originating Officer",value:u.originatingOffice},{label:"Date of Document",value:u.dateOfDocument},{label:"FSIS Reference Number",value:u.fsisReferenceNumber},{label:"AWD Date Received",value:u.awdReceivedDate},{label:"Status",value:u.status},{label:"Remarks",value:u.remarks},{label:"Inspector",value:u.assignedInspector}].map((e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xl font-semibold pb-2",children:e.label}),(0,l.jsx)("label",{className:"block text-xl font-normal pb-2",children:e.value||"N/A"})]},t))}),(0,l.jsx)("div",{className:"mt-12 flex justify-center px-8 pb-10 w-full",children:(0,l.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,l.jsx)("h2",{className:"text-3xl font-semibold mb-6 text-center",children:"Tracking History"}),b.length>0?(0,l.jsx)("div",{className:"overflow-x-auto w-full",children:(0,l.jsxs)("table",{className:"w-full border-collapse border border-gray-300 shadow-lg",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100",children:[(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Date and Time"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Forwarded By"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Forwarded To"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Status"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Remarks"})]})}),(0,l.jsx)("tbody",{children:b.map((e,t)=>(0,l.jsxs)("tr",{className:"border bg-white hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.dateTimeSubmitted||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.forwardedBy||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.forwardedtoname?"".concat(e.forwardedtoname," (").concat(e.forwardedTo||"",")"):e.forwardedTo||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.status||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.remarks||"N/A"})]},t))})]})}):(0,l.jsx)("p",{className:"text-center text-red-500 text-lg mt-4",children:"No tracking history available."})]})})]})]})]})})}):(0,l.jsx)("p",{className:"text-center mt-10 text-red-500",children:"No data found."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[507,888,655,2,528,441,684,358],()=>t(35221)),_N_E=e.O()}]);