(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{23263:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(95155),a=s(12115),r=s(35695),n=s(81115),i=s(34293),d=s(41559),c=s(71919),o=s(76037),m=s(84995),x=s(36639);function u(){let e=(0,r.useParams)(),t=(0,r.useRouter)(),[s,u]=(0,a.useState)(null),[h,b]=(0,a.useState)(null),[f,g]=(0,a.useState)([]),[j,N]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let s=localStorage.getItem("selectedAwdRefNum"),l=(null==e?void 0:e.awdrefnu)||s;if(!l){console.error("awdReferenceNumber is undefined!"),t.push("/admin/Documents");return}u(l)},[e,t]),(0,a.useEffect)(()=>{if(!s)return;console.log("Fetching data for:",s);let e=(0,n.P)((0,n.KR)(i.OO,"documents"),(0,n.kT)("awdReferenceNumber"),(0,n.iz)(s)),t=(0,n.Zy)(e,e=>{if(e.exists()){let t=e.val(),s=Object.keys(t)[0];b(t[s])}else console.warn("No data found for",s),b(null);N(!1)},e=>{console.error("Error fetching data:",e),N(!1)}),l=(0,n.P)((0,n.KR)(i.OO,"tracking"),(0,n.kT)("awdReferenceNumber"),(0,n.iz)(s)),a=(0,n.Zy)(l,e=>{e.exists()?g(Object.values(e.val())):(console.warn("No tracking data found for",s),g([]))},e=>{console.error("Error fetching tracking data:",e)});return()=>{t(),a()}},[s]),j)?(0,l.jsx)("p",{className:"text-center mt-10",children:"Loading data..."}):h?(0,l.jsx)(x.A,{allowedDivisions:["admin"],children:(0,l.jsx)(c.GB,{children:(0,l.jsxs)("div",{className:"flex h-screen",children:[(0,l.jsx)(d.G,{}),(0,l.jsxs)(c.sF,{className:"flex flex-1 flex-col",children:[(0,l.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,l.jsx)(c.x2,{className:"-ml-1"}),(0,l.jsx)(o.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,l.jsx)(m.Qp,{children:(0,l.jsxs)(m.AB,{children:[(0,l.jsx)(m.J5,{className:"hidden md:block",children:(0,l.jsx)(m.tJ,{children:"Documents"})}),(0,l.jsx)(m.tH,{className:"hidden md:block"}),(0,l.jsx)(m.J5,{children:(0,l.jsx)(m.tJ,{children:"Subject Information"})})]})})]}),(0,l.jsxs)("div",{className:"pl-12 pt-8",children:[(0,l.jsx)("h1",{className:"text-6xl font-bold mb-16",children:h.subject||"No Title"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-6 pl-12",children:[{label:"AWD Reference Number",value:h.awdReferenceNumber},{label:"Originating Officer",value:h.originatingOffice},{label:"Date of Document",value:h.dateOfDocument},{label:"FSIS Reference Number",value:h.fsisReferenceNumber},{label:"AWD Date Received",value:h.awdReceivedDate},{label:"Status",value:h.status},{label:"Remarks",value:h.remarks},{label:"Inspector",value:h.assignedInspector}].map((e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xl font-semibold pb-2",children:e.label}),(0,l.jsx)("label",{className:"block text-xl font-normal pb-2",children:e.value||"N/A"})]},t))}),(0,l.jsx)("div",{className:"mt-12 flex justify-center px-8 pb-10",children:(0,l.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,l.jsx)("h2",{className:"text-3xl font-semibold mb-6 text-center",children:"Tracking History"}),f.length>0?(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full border-collapse border border-gray-300 shadow-lg",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100",children:[(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Date and Time"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Forwarded By"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Forwarded To"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Status"}),(0,l.jsx)("th",{className:"border px-6 py-3 text-left text-lg font-semibold",children:"Remarks"})]})}),(0,l.jsx)("tbody",{children:f.sort((e,t)=>(e.dateTimeSubmitted?new Date(e.dateTimeSubmitted).getTime():0)-(t.dateTimeSubmitted?new Date(t.dateTimeSubmitted).getTime():0)).map((e,t)=>(0,l.jsxs)("tr",{className:"border bg-white hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.dateTimeSubmitted||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.forwardedBy||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.forwardedtoname?"".concat(e.forwardedtoname," (").concat(e.forwardedTo||"",")"):e.forwardedTo||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.status||"N/A"}),(0,l.jsx)("td",{className:"border px-6 py-3 text-lg",children:e.remarks||"N/A"})]},t))})]})}):(0,l.jsx)("p",{className:"text-center text-red-500 text-lg mt-4",children:"No tracking history available."})]})})]})]})]})})}):(0,l.jsx)("p",{className:"text-center mt-10 text-red-500",children:"No data found."})}},41559:(e,t,s)=>{"use strict";s.d(t,{G:()=>x});var l=s(95155);s(12115);var a=s(13052),r=s(50095),n=s(6874),i=s.n(n),d=s(65204),c=s(71919),o=s(66766);let m={navMain:[{title:"Home",items:[{title:"Dashboard",url:"/admin/dashboard"},{title:"Division",url:"/admin/division"},{title:"Mandays",url:"/admin/mandays"}]},{title:"Accounts",items:[{title:"Manage Accounts",url:"/admin/Accounts/manageacc"},{title:"Create Accounts",url:"/admin/Accounts/createacc"}]},{title:"Incoming Documents",items:[{title:"Assign Track",url:"/admin/Documents/assigntrack"},{title:"Ongoing Documents",url:"/admin/Documents/ongoingdocs"},{title:"Sent Documents",url:"/admin/Documents/sentdocs"},{title:"Pending Documents",url:"/admin/outgoingdocuments/pendingdocs"}]},{title:"Outgoing Documents",items:[{title:"Closed Documents",url:"/admin/outgoingdocuments/closeddocs"},{title:"Returned Documents",url:"/admin/outgoingdocuments/returneddocs"}]}]};function x(e){let{...t}=e;return(0,l.jsxs)(c.Bx,{...t,children:[(0,l.jsxs)(c.Gh,{className:"flex items-center pt-2 font-bold justify-center text-2xl gap-2",children:[(0,l.jsx)(o.default,{src:"/images/awdlogo.png",alt:"Airworthiness Logo",width:80,height:80,className:"w-20 h-20"}),"AIRWORTHINESS"]}),(0,l.jsx)(c.Yv,{className:"gap-0",children:m.navMain.map(e=>(0,l.jsx)(d.Nt,{title:e.title,defaultOpen:!0,className:"group/collapsible",children:(0,l.jsxs)(c.Cn,{children:[(0,l.jsx)(c.jj,{asChild:!0,className:"group/label text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:(0,l.jsxs)(d.R6,{children:[e.title," ",(0,l.jsx)(a.A,{className:"ml-auto transition-transform group-data-[state=open]/collapsible:rotate-90"})]})}),(0,l.jsx)(d.Ke,{children:(0,l.jsx)(c.rQ,{children:(0,l.jsx)(c.wZ,{children:e.items.map(e=>(0,l.jsx)(c.FX,{children:(0,l.jsx)(c.Uj,{asChild:!0,children:(0,l.jsx)(i(),{href:e.url,children:e.title})})},e.title))})})})]})},e.title))}),(0,l.jsx)(c.CG,{className:"p-4",children:(0,l.jsx)(r.r,{})}),(0,l.jsx)(c.jM,{})]})}},70202:(e,t,s)=>{Promise.resolve().then(s.bind(s,23263))}},e=>{var t=t=>e(e.s=t);e.O(0,[507,888,655,2,528,441,684,358],()=>t(70202)),_N_E=e.O()}]);